<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeetCode Patterns Mastery Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .pattern-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .pattern-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .pattern-title {
            font-size: 1.8rem;
            color: #4f46e5;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .pattern-icon {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .concept {
            background: #f8fafc;
            border-left: 4px solid #4f46e5;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .code-container {
            background: #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
            overflow-x: auto;
        }
        
        .code {
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre;
        }
        
        .keyword { color: #f97316; }
        .string { color: #22c55e; }
        .comment { color: #6b7280; font-style: italic; }
        .number { color: #3b82f6; }
        
        .interactive-section {
            background: #f0f9ff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #0ea5e9;
        }
        
        .input-group {
            margin: 10px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #374151;
        }
        
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #4f46e5;
        }
        
        .btn {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
        }
        
        .result {
            background: #dcfce7;
            border: 2px solid #16a34a;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 14px;
            min-height: 50px;
        }
        
        .complexity {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .visualization {
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            background: #fafafa;
            text-align: center;
        }
        
        .array-viz {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .array-element {
            width: 50px;
            height: 50px;
            border: 2px solid #4f46e5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .pointer {
            background: #ef4444 !important;
            color: white;
            transform: scale(1.1);
        }
        
        .target {
            background: #22c55e !important;
            color: white;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transition: width 0.3s ease;
            border-radius: 10px;
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2rem; }
            .pattern-card { padding: 20px; }
            .array-element { width: 40px; height: 40px; font-size: 14px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 LeetCode Patterns Mastery</h1>
            <p>Master the fundamentals with interactive examples</p>
        </div>

        <!-- Two Pointers Pattern -->
        <div class="pattern-card">
            <h2 class="pattern-title">
                <span class="pattern-icon">👆</span>
                Two Pointers Pattern
            </h2>
            
            <div class="concept">
                <strong>Core Concept:</strong> Use two pointers moving toward each other or in the same direction to solve problems efficiently in O(n) time instead of O(n²).
            </div>
            
            <div class="code-container">
                <div class="code"><span class="comment">// Classic Two Pointers Template</span>
<span class="keyword">function</span> twoPointers(arr, target) {
    <span class="keyword">let</span> left = <span class="number">0</span>;
    <span class="keyword">let</span> right = arr.length - <span class="number">1</span>;
    
    <span class="keyword">while</span> (left < right) {
        <span class="keyword">let</span> sum = arr[left] + arr[right];
        
        <span class="keyword">if</span> (sum === target) {
            <span class="keyword">return</span> [left, right];
        } <span class="keyword">else if</span> (sum < target) {
            left++; <span class="comment">// Need larger sum</span>
        } <span class="keyword">else</span> {
            right--; <span class="comment">// Need smaller sum</span>
        }
    }
    <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>];
}</div>
            </div>
            
            <div class="interactive-section">
                <h3>🎯 Try it: Two Sum in Sorted Array</h3>
                <div class="input-group">
                    <label>Enter sorted array (comma-separated):</label>
                    <input type="text" id="twoPointerArray" value="1,2,3,4,6,8,9,11" placeholder="1,2,3,4,6,8,9,11">
                </div>
                <div class="input-group">
                    <label>Target sum:</label>
                    <input type="number" id="twoPointerTarget" value="10" placeholder="10">
                </div>
                <button class="btn" onclick="runTwoPointer()">Find Pair</button>
                <button class="btn" onclick="visualizeTwoPointer()">Visualize Steps</button>
                
                <div class="visualization" id="twoPointerViz"></div>
                <div class="result" id="twoPointerResult"></div>
            </div>
            
            <div class="complexity">
                <strong>Time Complexity:</strong> O(n) | <strong>Space Complexity:</strong> O(1)
            </div>
        </div>

        <!-- Sliding Window Pattern -->
        <div class="pattern-card">
            <h2 class="pattern-title">
                <span class="pattern-icon">🪟</span>
                Sliding Window Pattern
            </h2>
            
            <div class="concept">
                <strong>Core Concept:</strong> Maintain a "window" of elements and slide it through the array. Perfect for subarray problems.
            </div>
            
            <div class="code-container">
                <div class="code"><span class="comment">// Fixed Size Sliding Window</span>
<span class="keyword">function</span> maxSumFixedWindow(arr, k) {
    <span class="keyword">let</span> maxSum = <span class="number">0</span>, windowSum = <span class="number">0</span>;
    
    <span class="comment">// Calculate first window</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < k; i++) {
        windowSum += arr[i];
    }
    maxSum = windowSum;
    
    <span class="comment">// Slide the window</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> i = k; i < arr.length; i++) {
        windowSum = windowSum - arr[i - k] + arr[i];
        maxSum = Math.max(maxSum, windowSum);
    }
    
    <span class="keyword">return</span> maxSum;
}

<span class="comment">// Variable Size Sliding Window</span>
<span class="keyword">function</span> longestSubarrayWithSum(arr, target) {
    <span class="keyword">let</span> left = <span class="number">0</span>, sum = <span class="number">0</span>, maxLength = <span class="number">0</span>;
    
    <span class="keyword">for</span> (<span class="keyword">let</span> right = <span class="number">0</span>; right < arr.length; right++) {
        sum += arr[right];
        
        <span class="keyword">while</span> (sum > target && left <= right) {
            sum -= arr[left];
            left++;
        }
        
        <span class="keyword">if</span> (sum === target) {
            maxLength = Math.max(maxLength, right - left + <span class="number">1</span>);
        }
    }
    
    <span class="keyword">return</span> maxLength;
}</div>
            </div>
            
            <div class="interactive-section">
                <h3>🎯 Try it: Maximum Sum of K Elements</h3>
                <div class="input-group">
                    <label>Enter array (comma-separated):</label>
                    <input type="text" id="slidingArray" value="2,1,5,1,3,2" placeholder="2,1,5,1,3,2">
                </div>
                <div class="input-group">
                    <label>Window size (k):</label>
                    <input type="number" id="windowSize" value="3" placeholder="3">
                </div>
                <button class="btn" onclick="runSlidingWindow()">Find Max Sum</button>
                <button class="btn" onclick="visualizeSlidingWindow()">Visualize</button>
                
                <div class="visualization" id="slidingWindowViz"></div>
                <div class="result" id="slidingWindowResult"></div>
            </div>
            
            <div class="complexity">
                <strong>Time Complexity:</strong> O(n) | <strong>Space Complexity:</strong> O(1)
            </div>
        </div>

        <!-- Fast & Slow Pointers -->
        <div class="pattern-card">
            <h2 class="pattern-title">
                <span class="pattern-icon">🐢🐰</span>
                Fast & Slow Pointers (Floyd's Algorithm)
            </h2>
            
            <div class="concept">
                <strong>Core Concept:</strong> Two pointers moving at different speeds. The fast pointer moves 2 steps, slow moves 1 step. Used for cycle detection and finding middle elements.
            </div>
            
            <div class="code-container">
                <div class="code"><span class="comment">// Detect cycle in linked list</span>
<span class="keyword">function</span> hasCycle(head) {
    <span class="keyword">let</span> slow = head, fast = head;
    
    <span class="keyword">while</span> (fast && fast.next) {
        slow = slow.next;        <span class="comment">// Move 1 step</span>
        fast = fast.next.next;   <span class="comment">// Move 2 steps</span>
        
        <span class="keyword">if</span> (slow === fast) {
            <span class="keyword">return</span> <span class="keyword">true</span>; <span class="comment">// Cycle detected</span>
        }
    }
    
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="comment">// Find middle of linked list</span>
<span class="keyword">function</span> findMiddle(head) {
    <span class="keyword">let</span> slow = head, fast = head;
    
    <span class="keyword">while</span> (fast && fast.next) {
        slow = slow.next;
        fast = fast.next.next;
    }
    
    <span class="keyword">return</span> slow; <span class="comment">// Middle node</span>
}

<span class="comment">// Array cycle detection (for problems like "Happy Number")</span>
<span class="keyword">function</span> detectCycleInSequence(n) {
    <span class="keyword">let</span> slow = n, fast = n;
    
    <span class="keyword">do</span> {
        slow = getNext(slow);
        fast = getNext(getNext(fast));
    } <span class="keyword">while</span> (slow !== fast);
    
    <span class="keyword">return</span> slow === <span class="number">1</span>; <span class="comment">// If cycle at 1, it's happy</span>
}</div>
            </div>
            
            <div class="interactive-section">
                <h3>🎯 Try it: Happy Number Detection</h3>
                <div class="input-group">
                    <label>Enter a number:</label>
                    <input type="number" id="happyNumber" value="19" placeholder="19">
                </div>
                <button class="btn" onclick="checkHappyNumber()">Check if Happy</button>
                <button class="btn" onclick="visualizeHappyNumber()">Show Process</button>
                
                <div class="visualization" id="happyNumberViz"></div>
                <div class="result" id="happyNumberResult"></div>
            </div>
            
            <div class="complexity">
                <strong>Time Complexity:</strong> O(log n) for Happy Number, O(n) for LinkedList | <strong>Space Complexity:</strong> O(1)
            </div>
        </div>

        <div style="text-align: center; margin: 40px 0; color: white;">
            <h3>🎓 Master these three patterns first, then we'll move to Tree Traversals!</h3>
            <p>Practice until these become second nature - they're the foundation for more complex patterns.</p>
        </div>
    </div>

    <script>
        // Two Pointers Implementation
        function runTwoPointer() {
            const arrayStr = document.getElementById('twoPointerArray').value;
            const target = parseInt(document.getElementById('twoPointerTarget').value);
            const arr = arrayStr.split(',').map(x => parseInt(x.trim()));
            
            let left = 0, right = arr.length - 1;
            let steps = [];
            
            while (left < right) {
                const sum = arr[left] + arr[right];
                steps.push({left, right, sum, target});
                
                if (sum === target) {
                    document.getElementById('twoPointerResult').innerHTML = 
                        `✅ Found pair at indices [${left}, ${right}]: ${arr[left]} + ${arr[right]} = ${sum}`;
                    return;
                } else if (sum < target) {
                    left++;
                } else {
                    right--;
                }
            }
            
            document.getElementById('twoPointerResult').innerHTML = 
                `❌ No pair found that sums to ${target}`;
        }
        
        function visualizeTwoPointer() {
            const arrayStr = document.getElementById('twoPointerArray').value;
            const target = parseInt(document.getElementById('twoPointerTarget').value);
            const arr = arrayStr.split(',').map(x => parseInt(x.trim()));
            
            let left = 0, right = arr.length - 1;
            let step = 0;
            
            function showStep() {
                if (left >= right) {
                    document.getElementById('twoPointerViz').innerHTML += 
                        '<p><strong>No more pairs to check!</strong></p>';
                    return;
                }
                
                const sum = arr[left] + arr[right];
                let html = `<div style="margin: 10px 0;">
                    <p><strong>Step ${step + 1}:</strong> left=${left}, right=${right}</p>
                    <div class="array-viz">`;
                
                for (let i = 0; i < arr.length; i++) {
                    let className = 'array-element';
                    if (i === left || i === right) className += ' pointer';
                    html += `<div class="${className}">${arr[i]}</div>`;
                }
                
                html += `</div>
                    <p>${arr[left]} + ${arr[right]} = ${sum} ${sum === target ? '🎯 FOUND!' : sum < target ? '< target (move left →)' : '> target (← move right)'}</p>
                </div>`;
                
                document.getElementById('twoPointerViz').innerHTML = html;
                
                if (sum === target) {
                    document.getElementById('twoPointerResult').innerHTML = 
                        `✅ Found pair at indices [${left}, ${right}]!`;
                    return;
                }
                
                if (sum < target) left++;
                else right--;
                step++;
                
                setTimeout(showStep, 1500);
            }
            
            document.getElementById('twoPointerViz').innerHTML = '';
            showStep();
        }
        
        // Sliding Window Implementation
        function runSlidingWindow() {
            const arrayStr = document.getElementById('slidingArray').value;
            const k = parseInt(document.getElementById('windowSize').value);
            const arr = arrayStr.split(',').map(x => parseInt(x.trim()));
            
            if (k > arr.length) {
                document.getElementById('slidingWindowResult').innerHTML = 
                    `❌ Window size (${k}) cannot be larger than array length (${arr.length})`;
                return;
            }
            
            let maxSum = 0, windowSum = 0;
            
            // Calculate first window
            for (let i = 0; i < k; i++) {
                windowSum += arr[i];
            }
            maxSum = windowSum;
            let maxIndex = 0;
            
            // Slide the window
            for (let i = k; i < arr.length; i++) {
                windowSum = windowSum - arr[i - k] + arr[i];
                if (windowSum > maxSum) {
                    maxSum = windowSum;
                    maxIndex = i - k + 1;
                }
            }
            
            const maxSubarray = arr.slice(maxIndex, maxIndex + k);
            document.getElementById('slidingWindowResult').innerHTML = 
                `✅ Maximum sum: ${maxSum}<br>
                Subarray: [${maxSubarray.join(', ')}] starting at index ${maxIndex}`;
        }
        
        function visualizeSlidingWindow() {
            const arrayStr = document.getElementById('slidingArray').value;
            const k = parseInt(document.getElementById('windowSize').value);
            const arr = arrayStr.split(',').map(x => parseInt(x.trim()));
            
            if (k > arr.length) return;
            
            let windowStart = 0;
            let maxSum = 0, currentSum = 0;
            
            // Calculate first window
            for (let i = 0; i < k; i++) {
                currentSum += arr[i];
            }
            maxSum = currentSum;
            
            function showWindow() {
                let html = `<div style="margin: 10px 0;">
                    <p><strong>Window starting at index ${windowStart}:</strong></p>
                    <div class="array-viz">`;
                
                for (let i = 0; i < arr.length; i++) {
                    let className = 'array-element';
                    if (i >= windowStart && i < windowStart + k) {
                        className += ' target';
                    }
                    html += `<div class="${className}">${arr[i]}</div>`;
                }
                
                html += `</div>
                    <p>Sum: ${currentSum} ${currentSum === maxSum ? '🏆 (Current Max!)' : ''}</p>
                </div>`;
                
                document.getElementById('slidingWindowViz').innerHTML = html;
                
                windowStart++;
                if (windowStart + k <= arr.length) {
                    currentSum = currentSum - arr[windowStart - 1] + arr[windowStart + k - 1];
                    if (currentSum > maxSum) maxSum = currentSum;
                    setTimeout(showWindow, 1500);
                }
            }
            
            document.getElementById('slidingWindowViz').innerHTML = '';
            showWindow();
        }
        
        // Happy Number Implementation
        function getNext(n) {
            let sum = 0;
            while (n > 0) {
                const digit = n % 10;
                sum += digit * digit;
                n = Math.floor(n / 10);
            }
            return sum;
        }
        
        function checkHappyNumber() {
            const n = parseInt(document.getElementById('happyNumber').value);
            
            let slow = n, fast = n;
            
            do {
                slow = getNext(slow);
                fast = getNext(getNext(fast));
            } while (slow !== fast);
            
            const isHappy = slow === 1;
            document.getElementById('happyNumberResult').innerHTML = 
                `${isHappy ? '😊' : '😢'} ${n} is ${isHappy ? '' : 'NOT '}a happy number!`;
        }
        
        function visualizeHappyNumber() {
            const n = parseInt(document.getElementById('happyNumber').value);
            
            let current = n;
            let steps = [];
            let seen = new Set();
            
            while (current !== 1 && !seen.has(current)) {
                seen.add(current);
                const next = getNext(current);
                steps.push({current, next});
                current = next;
            }
            
            let html = `<div><p><strong>Process for ${n}:</strong></p>`;
            steps.forEach((step, i) => {
                html += `<p>Step ${i + 1}: ${step.current} → ${step.next}</p>`;
            });
            
            if (current === 1) {
                html += `<p>🎉 Reached 1! This is a happy number.</p>`;
            } else {
                html += `<p>💫 Entered cycle at ${current}. Not a happy number.</p>`;
            }
            html += `</div>`;
            
            document.getElementById('happyNumberViz').innerHTML = html;
        }
    </script>
</body>
</html>
